-- Sunder.cc Inventory Auto-Seller + Seed Spammer
-- Ultra-Lightweight Version
local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

-- Configuration
local sellRemotePath = "GameEvents/Sell_Inventory"
local buyRemotePath = "GameEvents/BuySeedStock"
local defaultCooldown = 3

-- Create the window
local Window = Rayfield:CreateWindow({
    Name = "Sunder.cc",
    LoadingTitle = "Loading grow a garden raper 3000",
    LoadingSubtitle = "remote spammer",
    ConfigurationSaving = {
        Enabled = true,
        FolderName = "SunderSellerConfig",
        FileName = "Settings"
    }
})

-- Get remotes
local sellRemote = game:GetService("ReplicatedStorage"):FindFirstChild("GameEvents") and game:GetService("ReplicatedStorage").GameEvents:FindFirstChild("Sell_Inventory")
local buyRemote = game:GetService("ReplicatedStorage"):FindFirstChild("GameEvents") and game:GetService("ReplicatedStorage").GameEvents:FindFirstChild("BuySeedStock")
local gearRemote = game:GetService("ReplicatedStorage"):FindFirstChild("GameEvents") and game:GetService("ReplicatedStorage").GameEvents:FindFirstChild("BuyGearStock")


if not sellRemote or not buyRemote then
    Rayfield:Notify({
        Title = "Error",
        Content = "Missing Sell or Buy remote!",
        Duration = 6,
        Image = 6023426926
    })
    return
end

-- state management
local sellState = {
    active = false,
    count = 0,
    cooldown = defaultCooldown,
    lastSold = 0
}

local sellerPosition = nil
local sellerHighlight = nil
local highlightColor = Color3.fromRGB(0, 255, 60) -- default cyan

--tabs
local MainTab = Window:CreateTab("üïπÔ∏èControls", 4483362458)
local SeedsTab = Window:CreateTab("üåΩSeed Shop", 4483362458)
local GearsTab = Window:CreateTab("üéÆ Gear Shop", 4483362458)

-- ===== MAIN CONTROLS =====
MainTab:CreateSection("Core Settings")

MainTab:CreateSlider({
    Name = "Sell Cooldown (sec)",
    Range = {1, 60},
    Increment = 1,
    Suffix = "s",
    CurrentValue = defaultCooldown,
    Flag = "CooldownSlider",
    Callback = function(Value)
        sellState.cooldown = Value
    end
})

MainTab:CreateToggle({
    Name = "Auto-Sell Inventory",
    CurrentValue = false,
    Flag = "SellerToggle",
    Callback = function(Value)
        sellState.active = Value
        if Value then
            coroutine.wrap(function()
                while sellState.active and sellRemote do
                    local player = game.Players.LocalPlayer
                    local char = player.Character or player.CharacterAdded:Wait()
                    local hrp = char:FindFirstChild("HumanoidRootPart")

                    if hrp and sellerPosition then
                        local originalCFrame = hrp.CFrame
                        local camera = workspace.CurrentCamera
                        local cameraCFrame = camera.CFrame

                        hrp.CFrame = sellerPosition
                        camera.CameraType = Enum.CameraType.Scriptable
                        camera.CFrame = cameraCFrame

                        task.wait(0.2)

                        -- sell the items and update the count
                        local success = pcall(function()
                            sellRemote:FireServer()
                            sellState.count += 1
                            sellState.lastSold = os.time()
                            if statsLabel then
                                statsLabel:Set("Items Sold: "..sellState.count)
                            end
                        end)

                        hrp.CFrame = originalCFrame
                        task.wait(0.1)
                        camera.CameraType = Enum.CameraType.Custom

                        if not success then
                            Rayfield:Notify({
                                Title = "Sell Failed",
                                Content = "Remote call error",
                                Duration = 3,
                                Image = 6023426926
                            })
                        end
                    end

                    task.wait(sellState.cooldown)
                end
            end)()
        end
    end
})

MainTab:CreateKeybind({
    Name = "Emergency Stop",
    CurrentKeybind = "Delete",
    HoldToInteract = false,
    Flag = "EmergencyStop",
    Callback = function()
        sellState.active = false
        Rayfield.Flags["SellerToggle"]:Set(false)
        Rayfield:Notify({
            Title = "STOPPED",
            Content = "Auto-selling disabled",
            Duration = 3,
            Image = 6023426926
        })
        for name, data in pairs(seedSpamStates) do
            data.active = false
            Rayfield.Flags[data.flag]:Set(false)
        end
    end
})

MainTab:CreateButton({
    Name = "Set Seller Position (Current Location)",
    Callback = function()
        local player = game.Players.LocalPlayer
        local char = player.Character or player.CharacterAdded:Wait()
        local hrp = char:FindFirstChild("HumanoidRootPart")

        if hrp then
            sellerPosition = hrp.CFrame
            Rayfield:Notify({
                Title = "Seller Position Set",
                Content = "Using your current location for server teleport.",
                Duration = 4,
                Image = 6026568198
            })

            -- create or update highlight part
            if not sellerHighlight then
                local part = Instance.new("Part")
                part.Anchored = true
                part.CanCollide = false
                part.Size = Vector3.new(3, 3, 3)
                part.Material = Enum.Material.ForceField
                part.Color = highlightColor
                part.Transparency = 0.25
                part.Name = "SellerMarker"
                part.Parent = workspace
                sellerHighlight = part

                -- add a label above the marker
                local label = Instance.new("BillboardGui")
                label.Adornee = part
                label.Size = UDim2.new(0, 100, 0, 50)
                label.StudsOffset = Vector3.new(0, 3, 0)
                label.AlwaysOnTop = true
                label.Parent = part

                local textLabel = Instance.new("TextLabel")
                textLabel.Size = UDim2.new(1, 0, 1, 0)
                textLabel.Text = "Seller Zone"
                textLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
                textLabel.BackgroundTransparency = 1
                textLabel.TextStrokeTransparency = 0
                textLabel.TextStrokeColor3 = Color3.new(0, 0, 0)
                textLabel.TextScaled = true
                 textLabel.Font = Enum.Font.FredokaOne
                 textLabel.Parent = label

            end

            sellerHighlight.Position = sellerPosition.Position
            sellerHighlight.Color = highlightColor

            -- add animation to the highlight
            local tweenService = game:GetService("TweenService")
            local tweenInfo = TweenInfo.new(0.5, Enum.EasingStyle.Linear, Enum.EasingDirection.InOut, -1, true)
            local tweenGoal = {Size = Vector3.new(3.5, 3.5, 3.5)}

            local tween = tweenService:Create(sellerHighlight, tweenInfo, tweenGoal)
            tween:Play()

            -- rotate the part slowly for effect
            coroutine.wrap(function()
                while true do
                    sellerHighlight.CFrame = sellerHighlight.CFrame * CFrame.Angles(0, math.rad(1), 0)
                    task.wait(0.05)
                end
            end)()

        else
            Rayfield:Notify({
                Title = "Error",
                Content = "Couldn't find HumanoidRootPart!",
                Duration = 4,
                Image = 6023426926
            })
        end
    end
})

MainTab:CreateColorPicker({
    Name = "Highlight Color",
    Color = highlightColor,
    Flag = "HighlightColor",
    Callback = function(Value)
        highlightColor = Value
        if sellerHighlight then
            sellerHighlight.Color = highlightColor
        end
    end
})

-- ===== Seed Shop =====
SeedsTab:CreateSection("Select Seeds to Auto-Spam")

local seedList = {
    "Carrot", "Strawberry", "Blueberry", "Orange Tulip", "Tomato", "Corn",
    "Daffodil", "Watermelon", "Pumpkin", "Apple", "Bamboo", "Coconut", "Cactus", "Dragon", "Mango", "Grape", "Mushroom", "Pepper", "Cacao", "Beanstalk"
}

local seedSpamStates = {}

for _, seedName in pairs(seedList) do
    local flagName = "Spam_"..seedName:gsub(" ", "_")
    seedSpamStates[seedName] = {
        active = false,
        flag = flagName
    }

    SeedsTab:CreateToggle({
        Name = "Spam "..seedName,
        CurrentValue = false,
        Flag = flagName,
        Callback = function(Value)
            seedSpamStates[seedName].active = Value
            if Value then
                coroutine.wrap(function()
                    while seedSpamStates[seedName].active do
                        local args = { [1] = seedName }

                        pcall(function()
                            -- Fire the BuySeedStock remote for the selected seed
                            buyRemote:FireServer(unpack(args))
                        end)
                        task.wait(0.2)
                    end
                end)()
            end
        end
    })
end

-- **1. Seed Priority System**

SeedsTab:CreateSlider({
    Name = "Seed Priority (higher value = higher priority)",
    Range = {1, 10},
    Increment = 1,
    Suffix = "",
    CurrentValue = 5,
    Flag = "SeedPrioritySlider",
    Callback = function(Value)

    end
})

-- **2. Delay Customization**
SeedsTab:CreateSlider({
    Name = "Seed Spam Delay (seconds)",
    Range = {0.1, 2},
    Increment = 0.1,
    Suffix = "s",
    CurrentValue = 0.2,
    Flag = "SeedDelaySlider",
    Callback = function(Value)
        seedSpamDelay = Value
    end
})

-- **3. Randomized Seed Spamming**
SeedsTab:CreateToggle({
    Name = "Randomize Seed Spamming",
    CurrentValue = false,
    Flag = "RandomizeSeedToggle",
    Callback = function(Value)
        randomizeSeeds = Value
        if randomizeSeeds then
            -- Implement random selection of seeds and start spamming them
            coroutine.wrap(function()
                while randomizeSeeds do
                    local randomSeed = seedList[math.random(1, #seedList)]
                    local args = { [1] = randomSeed }

                    pcall(function()
                        buyRemote:FireServer(unpack(args))
                    end)
                    task.wait(seedSpamDelay)
                end
            end)()
        end
    end
})

-- **4. Stop All Seed Spammers Button**

SeedsTab:CreateButton({
    Name = "Stop All Seed Spammers",
    Callback = function()
        for seedName, data in pairs(seedSpamStates) do
            data.active = false
            Rayfield.Flags[data.flag]:Set(false)
        end
        Rayfield:Notify({
            Title = "All Seed Spammers Stopped",
            Content = "All active seed spammers have been disabled.",
            Duration = 5,
            Image = 6023426926
        })
    end
})

-- ===== Gear Shop =====
GearsTab:CreateSection("Gear Shop remote buyer")

local gearList = {
    "Watering Can", "Trowel", "Recall Wrench", "Basic Sprinkler", "Advanced Sprinkler", "Godly Sprinkler", "Lightning Rod", "Master Sprinkler", "Favorite Tool", "Harvest Tool"
}

local gearSpamStates = {}

for _, gearName in pairs(gearList) do
    local flagName = "Spam_"..gearName:gsub(" ", "_")
    gearSpamStates[gearName] = {
        active = false,
        flag = flagName
    }

    GearsTab:CreateToggle({
        Name = "Spam "..gearName,
        CurrentValue = false,
        Flag = flagName,
        Callback = function(Value)
            gearSpamStates[gearName].active = Value
            if Value then
                coroutine.wrap(function()
                    while gearSpamStates[gearName].active do
                        local args = { [1] = gearName }

                        pcall(function()
                            -- Fire the BuySeedStock remote for the selected seed
                            gearRemote:FireServer(unpack(args))
                        end)
                        task.wait(0.2)
                    end
                end)()
            end
        end
    })
end

-- **1. Gear Priority System**

GearsTab:CreateSlider({
    Name = "Gear Prioruty (higher value = higher priority)",
    Range = {1, 10},
    Increment = 1,
    Suffix = "",
    CurrentValue = 5,
    Flag = "GaerPrioritySlider",
    Callback = function(Value)

    end
})

-- **2. Delay Customization**
GearsTab:CreateSlider({
    Name = "Gear spam  Delay (seconds)",
    Range = {0.1, 2},
    Increment = 0.1,
    Suffix = "s",
    CurrentValue = 0.2,
    Flag = "GearDelaySlider",
    Callback = function(Value)
        GearSpamDelay = Value
    end
})

-- **3. Randomized Gear Spamming**
GearsTab:CreateToggle({
    Name = "Randomize Gear Spamming",
    CurrentValue = false,
    Flag = "RandomizeGearToggle",
    Callback = function(Value)
        randomizeGears = Value
        if randomizeGears then
            -- Implement random selection of seeds and start spamming them
            coroutine.wrap(function()
                while randomizeGears do
                    local randomGear = GearList[math.random(1, #gearList)]
                    local args = { [1] = randomGear }

                    pcall(function()
                        gearRemote:FireServer(unpack(args))
                    end)
                    task.wait(gearSpamDelay)
                end
            end)()
        end
    end
})

-- **4. Stop All Gear Spammers Button**

GearsTab:CreateButton({
    Name = "Stop All Gear Spammers",
    Callback = function()
        for GearName, data in pairs(GearSpamStates) do
            data.active = false
            Rayfield.Flags[data.flag]:Set(false)
        end
        Rayfield:Notify({
            Title = "All Gear Spammers Stopped",
            Content = "All active Gear spammers have been disabled.",
            Duration = 5,
            Image = 6023426926
        })
    end
})

-- Config
local sellRemotePath = "GameEvents/Sell_Inventory"
local buyRemotePath = "GameEvents/BuySeedStock"
local defaultCooldown = 3


-- Get remotes
local sellRemote = game:GetService("ReplicatedStorage"):FindFirstChild("GameEvents") and game:GetService("ReplicatedStorage").GameEvents:FindFirstChild("Sell_Inventory")
local buyRemote = game:GetService("ReplicatedStorage"):FindFirstChild("GameEvents") and game:GetService("ReplicatedStorage").GameEvents:FindFirstChild("BuySeedStock")
local gearRemote = game:GetService("ReplicatedStorage"):FindFirstChild("GameEvents") and game:GetService("ReplicatedStorage").GameEvents:FindFirstChild("BuyGearStock")

-- üåæ Harvest tab
local HarvestTab = Window:CreateTab("üöúAuto Harverster", 4483362458)

-- üîß Variables
local harvestStates = {
    fireProximity = false,
    fireLoop = nil,
    fireDelay = 0.5,
    fireRange = 15,
    fovCircleRadius = 10
}

local fovCircleColor = Color3.fromRGB(255, 0, 0)
local fovCircle

-- üîµ Function to create/update FOV circle
local function createFovCircle()
    local player = game.Players.LocalPlayer
    local character = player.Character
    if not character then return end

    -- Destroy old one if it exists
    if fovCircle then
        fovCircle:Destroy()
    end

    fovCircle = Instance.new("Part")
    fovCircle.Shape = Enum.PartType.Ball
    fovCircle.Size = Vector3.new(harvestStates.fovCircleRadius * 2, harvestStates.fovCircleRadius * 2, harvestStates.fovCircleRadius * 2)
    fovCircle.Position = character.HumanoidRootPart.Position - Vector3.new(0, 5, 0)
    fovCircle.Anchored = true
    fovCircle.CanCollide = false
    fovCircle.Parent = workspace
    fovCircle.Material = Enum.Material.ForceField
    fovCircle.Color = fovCircleColor
    fovCircle.Reflectance = 0
    fovCircle.Transparency = 0.5

    -- Update its position continuously
    game:GetService("RunService").Heartbeat:Connect(function()
        if character and character:FindFirstChild("HumanoidRootPart") and fovCircle then
            fovCircle.Position = character.HumanoidRootPart.Position - Vector3.new(0, 5, 0)
        end
    end)
end

-- üé® FOV Circle Color Picker
HarvestTab:CreateColorPicker({
    Name = "FovCircleColor",
    Color = fovCircleColor,
    Flag = "FovCircleColor",
    Callback = function(Value)
        fovCircleColor = Value
        if fovCircle then
            fovCircle.Color = Value
        end
    end
})

-- üîÑ Initial creation of the circle
createFovCircle()

-- ‚öôÔ∏è Function to fire proximity prompts
local function fireProximityPrompts()
    local player = game.Players.LocalPlayer
    local character = player.Character or player.CharacterAdded:Wait()
    local hrp = character:FindFirstChild("HumanoidRootPart")
    local camera = workspace.CurrentCamera

    if not hrp or not camera then return end

    if fireproximityprompt then
        for _, descendant in ipairs(workspace:GetDescendants()) do
            if descendant:IsA("ProximityPrompt") and descendant.Parent then
                local parent = descendant.Parent
                local promptPosition

                if parent:IsA("Model") and parent.PrimaryPart then
                    promptPosition = parent.PrimaryPart.Position
                elseif parent:IsA("BasePart") then
                    promptPosition = parent.Position
                end

                if promptPosition then
                    local distance = (hrp.Position - promptPosition).Magnitude
                    if distance <= harvestStates.fireRange then
                        local _, onScreen = camera:WorldToViewportPoint(promptPosition)
                        if onScreen then
                            pcall(function()
                                fireproximityprompt(descendant)
                            end)
                        end
                    end
                end
            end
        end
    else
        notify("Incompatible Exploit", "Your exploit does not support this command (missing fireproximityprompt)")
    end
end

-- ‚úÖ Toggle: Auto fire proximity prompts
HarvestTab:CreateToggle({
    Name = "Enable Fire Proximity Prompts",
    CurrentValue = false,
    Callback = function(Value)
        harvestStates.fireProximity = Value
        if Value then
            if not harvestStates.fireLoop then
                harvestStates.fireLoop = task.spawn(function()
                    while harvestStates.fireProximity do
                        fireProximityPrompts()
                        task.wait(harvestStates.fireDelay)
                    end
                end)
            end
        else
            if harvestStates.fireLoop then
                task.cancel(harvestStates.fireLoop)
                harvestStates.fireLoop = nil
            end
        end
    end
})

-- ‚è±Ô∏è Slider: Delay between fires
HarvestTab:CreateSlider({
    Name = "Fire Rate Delay (seconds)",
    Range = {0.5, 1},
    Increment = 0.1,
    Suffix = "s",
    CurrentValue = harvestStates.fireDelay,
    Callback = function(Value)
        harvestStates.fireDelay = Value
    end
})

-- üìè Slider: Fire Range & Circle Radius
HarvestTab:CreateSlider({
    Name = "Fire Range & FOV Circle Radius (studs)",
    Range = {5, 15},
    Increment = 1,
    Suffix = "studs",
    CurrentValue = harvestStates.fireRange,
    Callback = function(Value)
        harvestStates.fireRange = Value
        harvestStates.fovCircleRadius = Value
        if fovCircle then
            fovCircle.Size = Vector3.new(Value * 2, Value * 2, Value * 2)
        end
    end
})


-- Initialize
Rayfield:Notify({
    Title = "Auto Harvest Loaded",
    Content = "Script is ready to use!",
    Duration = 5,
    Image = 4483362458,
})

-- Server-side part highlight teleportation 

-- Highlight Colors
local highlightColors = {
    gearShop = Color3.fromRGB(0, 255, 100),        -- Green
    petEggs = Color3.fromRGB(255, 255, 102),       -- Yellowish
    currentEvent = Color3.fromRGB(255, 255, 0)     -- Yellow
}

-- Marker Positions
local gearShopPos = Vector3.new(-281.5836, 4.2662, -33.2866)
local petEggsPos = Vector3.new(-281.8767, 4, -1.9715)  -- was questGiverPos
local currentEventPos = Vector3.new(-99.6171, 4.0000, -7.5551)

-- Create highlight in world
local function createHighlight(name, position, highlightColor)
    local part = Instance.new("Part")
    part.Anchored = true
    part.CanCollide = false
    part.Size = Vector3.new(3, 3, 3)
    part.Material = Enum.Material.ForceField
    part.Color = highlightColor
    part.Transparency = 0.5
    part.Name = name .. "Marker"
    part.CFrame = CFrame.new(position)
    part.Parent = workspace

    local label = Instance.new("BillboardGui")
    label.Adornee = part
    label.Size = UDim2.new(0, 100, 0, 50)
    label.StudsOffset = Vector3.new(0, 3, 0)
    label.AlwaysOnTop = true
    label.Parent = part

    local textLabel = Instance.new("TextLabel")
    textLabel.Size = UDim2.new(1, 0, 1, 0)
    textLabel.Text = name
    textLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    textLabel.BackgroundTransparency = 1
    textLabel.TextStrokeTransparency = 0
    textLabel.TextStrokeColor3 = Color3.new(0, 0, 0)
    textLabel.TextScaled = true
    textLabel.Font = Enum.Font.FredokaOne
    textLabel.Parent = label

    local tweenService = game:GetService("TweenService")
    local tweenInfo = TweenInfo.new(0.5, Enum.EasingStyle.Linear, Enum.EasingDirection.InOut, -1, true)
    local tweenGoal = {Size = Vector3.new(3.5, 3.5, 3.5)}
    local tween = tweenService:Create(part, tweenInfo, tweenGoal)
    tween:Play()

    coroutine.wrap(function()
        while true do
            part.CFrame = part.CFrame * CFrame.Angles(0, math.rad(1), 0)
            task.wait(0.05)
        end
    end)()
end

-- Wait for LocalPlayer
local Players = game:GetService("Players")
local player = Players.LocalPlayer or Players.PlayerAdded:Wait()

-- Styled UI
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "StyledTeleportButtons"
screenGui.Parent = player:WaitForChild("PlayerGui")

local function createStyledButton(name, position, color, callback)
    local button = Instance.new("ImageButton")
    button.Size = UDim2.new(0, 150, 0, 50)
    button.Position = UDim2.new(0, position.X, 0, position.Y)
    button.BackgroundColor3 = color
    button.AutoButtonColor = false
    button.Image = "rbxassetid://7076341519" -- Brick texture
    button.ScaleType = Enum.ScaleType.Tile
    button.TileSize = UDim2.new(0, 50, 0, 50)
    button.Parent = screenGui

    local text = Instance.new("TextLabel")
    text.Size = UDim2.new(1, 0, 1, 0)
    text.BackgroundTransparency = 1
    text.Text = name
    text.Font = Enum.Font.FredokaOne
    text.TextScaled = true
    text.TextColor3 = Color3.fromRGB(255, 255, 255)
    text.TextStrokeTransparency = 0
    text.TextStrokeColor3 = Color3.new(0, 0, 0)
    text.Parent = button

    button.MouseButton1Click:Connect(callback)
end

-- Create highlights with the correct highlight color
createHighlight("Gear Shop", gearShopPos, highlightColors.gearShop)
createHighlight("Pet Eggs", petEggsPos, highlightColors.petEggs)
createHighlight("Current Event", currentEventPos, highlightColors.currentEvent)

-- Create styled buttons
createStyledButton("Gear Shop", Vector3.new(1165, 100, 0), Color3.fromRGB(0, 200, 0), function()
    local char = player.Character or player.CharacterAdded:Wait()
    local hrp = char:WaitForChild("HumanoidRootPart")
    hrp.CFrame = CFrame.new(gearShopPos + Vector3.new(0, 3, 0))
end)

createStyledButton("Pet Eggs", Vector3.new(605, 100, 0), Color3.fromRGB(255, 255, 102), function()
    local char = player.Character or player.CharacterAdded:Wait()
    local hrp = char:WaitForChild("HumanoidRootPart")
    hrp.CFrame = CFrame.new(petEggsPos + Vector3.new(0, 3, 0))
end)

createStyledButton("Current Event", Vector3.new(890, 100, 0), Color3.fromRGB(255, 255, 0), function()
    local char = player.Character or player.CharacterAdded:Wait()
    local hrp = char:WaitForChild("HumanoidRootPart")
    hrp.CFrame = CFrame.new(currentEventPos + Vector3.new(0, 3, 0))
end)
